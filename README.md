# Ancia

**–õ–æ–∫–∞–ª—å–Ω–æ–µ desktop-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å LLM-–º–æ–¥–µ–ª—è–º–∏ —á–µ—Ä–µ–∑ MLX. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Vite/Tailwind, –æ–±–æ–ª–æ—á–∫–∞ Tauri 2, Python-–±—ç–∫–µ–Ω–¥ –Ω–∞ FastAPI —Å SQLite.

![–í–µ—Ä—Å–∏—è](https://img.shields.io/badge/–≤–µ—Ä—Å–∏—è-0.1.0-blue)
![–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞](https://img.shields.io/badge/–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞-macOS%20Apple%20Silicon-lightgrey)
![Python](https://img.shields.io/badge/Python-3.10--3.12-blue)
![Node](https://img.shields.io/badge/Node.js-18+-green)

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–û –ø—Ä–æ–µ–∫—Ç–µ](#–æ-–ø—Ä–æ–µ–∫—Ç–µ)
- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π](#—Å—Ç–µ–∫-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–†–µ–∂–∏–º—ã –∑–∞–ø—É—Å–∫–∞](#—Ä–µ–∂–∏–º—ã-–∑–∞–ø—É—Å–∫–∞)
- [–°–∫—Ä–∏–ø—Ç—ã](#—Å–∫—Ä–∏–ø—Ç—ã)
- [–ú–æ–¥–µ–ª–∏](#–º–æ–¥–µ–ª–∏)
- [–ü–ª–∞–≥–∏–Ω—ã –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã](#–ø–ª–∞–≥–∏–Ω—ã-–∏-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã)
- [API Reference](#api-reference)
- [–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö](#—Ö—Ä–∞–Ω–µ–Ω–∏–µ-–¥–∞–Ω–Ω—ã—Ö)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [Tauri Desktop](#tauri-desktop)
- [CI/CD](#cicd)
- [Troubleshooting](#troubleshooting)
- [–ú–µ—Ç—Ä–∏–∫–∏ –∫–æ–¥–∞](#–º–µ—Ç—Ä–∏–∫–∏-–∫–æ–¥–∞)

---

## üìñ –û –ø—Ä–æ–µ–∫—Ç–µ

Ancia ‚Äî —ç—Ç–æ **production-ready desktop –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** —Å –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, –ø–ª–∞–≥–∏–Ω —Å–∏—Å—Ç–µ–º–æ–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö LLM –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ MLX.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- Backend-first state ‚Äî –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
- SSE —Å—Ç—Ä–∏–º–∏–Ω–≥ ‚Äî –ø–æ—Ç–æ–∫–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã —Å tool-calls
- Tool-calling —Ü–∏–∫–ª ‚Äî –¥–æ 4 —Ä–∞—É–Ω–¥–æ–≤, 4 –≤—ã–∑–æ–≤–∞/—Ä–∞—É–Ω–¥
- Vision runtime ‚Äî –∞–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ mlx_lm ‚Üî mlx_vlm
- –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ä–µ–∂–∏–º ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ö–µ–º—ã –ë–î ‚Äî 5 –≤–µ—Ä—Å–∏–π, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è
- –ü–ª–∞–≥–∏–Ω —Å–∏—Å—Ç–µ–º–∞ ‚Äî manifest.json, Python handlers, UI extensions
- Tauri sidecar ‚Äî –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ backend, health checks, fallback –ø–æ—Ä—Ç—ã

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–õ–æ–∫–∞–ª—å–Ω—ã–µ —á–∞—Ç—ã** —Å –∏—Å—Ç–æ—Ä–∏–µ–π –≤ SQLite
- **–ü–æ—Ç–æ–∫–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã –º–æ–¥–µ–ª–∏** (`/chat/stream`, SSE) —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º tool-calls
- **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –º–æ–¥–µ–ª–µ–π**: –≤—ã–±–æ—Ä, –∑–∞–≥—Ä—É–∑–∫–∞/–≤—ã–≥—Ä—É–∑–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ –∫—ç—à–∞, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- **–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –ø–ª–∞–≥–∏–Ω–æ–≤** + 5 –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤
- **–ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ä–µ–∂–∏–º** (–±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–µ—Ç–µ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã)
- **–ü–æ–ª–Ω—ã–π backend-first state**: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —á–∞—Ç—ã –∏ —Å–æ–æ–±—â–µ–Ω–∏—è —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –±—ç–∫–µ–Ω–¥–∞
- **–°–µ–∑–æ–Ω–Ω—ã–µ –ª–æ–≥–æ—Ç–∏–ø—ã** ‚Äî splash screen —Å –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–º–∏ —Ç–µ–º–∞–º–∏
- **Liquid background** ‚Äî Three.js –∞–Ω–∏–º–∞—Ü–∏–∏ —Å mood states

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        Tauri Desktop (Rust)                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  main.rs: –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ backend, health checks, fallback   ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Frontend (Vite + Tailwind)                   ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îÇ
‚îÇ  ‚îÇ  Chats   ‚îÇ  ‚îÇ  Models  ‚îÇ  ‚îÇ Plugins  ‚îÇ  ‚îÇ Settings ‚îÇ       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         BackendClient.js (HTTP/SSE –∫ API)                ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚Üï HTTP/WebSocket
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Backend (FastAPI + SQLite)                   ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îÇ
‚îÇ  ‚îÇ  engine  ‚îÇ  ‚îÇ tooling  ‚îÇ  ‚îÇ storage  ‚îÇ  ‚îÇ  routes  ‚îÇ       ‚îÇ
‚îÇ  ‚îÇ  (MLX)   ‚îÇ  ‚îÇ(plugins) ‚îÇ  ‚îÇ (SQLite) ‚îÇ  ‚îÇ  (API)   ‚îÇ       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           5 –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤                   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ancia/
‚îú‚îÄ‚îÄ Frontend (Vite + TailwindCSS + Three.js)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.js              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, —Ä–æ—É—Ç–∏–Ω–≥, —Å–±–æ—Ä–∫–∞ UI
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chats.js             # –ß–∞—Ç, —Å—Ç—Ä–∏–º–∏–Ω–≥, tool-calls
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings.js          # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ background.js        # Liquid background –∞–Ω–∏–º–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ runtimeConfig.js     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è runtime
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app/                 # –ú–æ–¥—É–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (12 —Ñ–∞–π–ª–æ–≤)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chats/               # –ß–∞—Ç-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (15+ —Ñ–∞–π–ª–æ–≤)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/              # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª—è–º–∏ (4 —Ñ–∞–π–ª–∞)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ plugins/             # –ü–ª–∞–≥–∏–Ω—ã –∏ UI extensions (6 —Ñ–∞–π–ª–æ–≤)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/            # BackendClient.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings/            # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (feature, template)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ui/                  # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (7 –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ index.html               # –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ splash.html              # Splash screen —Å —Å–µ–∑–æ–Ω–Ω—ã–º–∏ –ª–æ–≥–æ—Ç–∏–ø–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ style.css                # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ
‚îú‚îÄ‚îÄ Backend (FastAPI + SQLite + MLX)
‚îÇ   ‚îú‚îÄ‚îÄ main.py                  # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è FastAPI, CORS, middleware
‚îÇ   ‚îú‚îÄ‚îÄ engine.py                # –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (3023 —Å—Ç—Ä–æ–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ storage.py               # SQLite —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (1658 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ tooling.py               # ToolRegistry, PluginManager (705 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ model_catalog.py         # –ö–∞—Ç–∞–ª–æ–≥ –º–æ–¥–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ routes.py                # API endpoints (1869 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ routes_*.py              # –†–æ—É—Ç—ã –ø–æ –¥–æ–º–µ–Ω–∞–º (5 —Ñ–∞–π–ª–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ plugins/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ preinstalled/        # 5 –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ installed/           # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—ã–µ –ø–ª–∞–≥–∏–Ω—ã
‚îÇ   ‚îî‚îÄ‚îÄ data/
‚îÇ       ‚îú‚îÄ‚îÄ model_catalog.json   # 40+ –º–æ–¥–µ–ª–µ–π –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
‚îÇ       ‚îî‚îÄ‚îÄ system_prompt.txt    # –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç
‚îÇ
‚îú‚îÄ‚îÄ Tauri Desktop (Rust)
‚îÇ   ‚îú‚îÄ‚îÄ src-tauri/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/main.rs          # –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ backend, health checks (928 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tauri.conf.json      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Tauri
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Cargo.toml           # Rust –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ capabilities/        # Tauri permissions
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ icons/               # –ò–∫–æ–Ω–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ bin/                     # Sidecar –±–∏–Ω–∞—Ä–Ω–∏–∫–∏
‚îÇ
‚îú‚îÄ‚îÄ –ü–ª–∞–≥–∏–Ω—ã (ancia-plugins/)
‚îÇ   ‚îú‚îÄ‚îÄ index.json               # –†–µ–µ—Å—Ç—Ä –ø–ª–∞–≥–∏–Ω–æ–≤ (5 –ø–ª–∞–≥–∏–Ω–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ plugins/                 # –ò—Å—Ö–æ–¥–Ω–∏–∫–∏ –ø–ª–∞–≥–∏–Ω–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ packages/                # ZIP –ø–∞–∫–µ—Ç—ã –ø–ª–∞–≥–∏–Ω–æ–≤
‚îÇ
‚îî‚îÄ‚îÄ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
    ‚îú‚îÄ‚îÄ scripts/                 # 7 —Å–∫—Ä–∏–ø—Ç–æ–≤ (setup, lint, build, smoke)
    ‚îú‚îÄ‚îÄ .github/workflows/ci.yml # CI/CD pipeline
    ‚îú‚îÄ‚îÄ package.json             # Node –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
    ‚îú‚îÄ‚îÄ requirements.txt         # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    ‚îî‚îÄ‚îÄ vite.config.js           # Vite –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

---

## üõ† –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|-----------|------------|
| **Frontend** | Vite + TailwindCSS + Three.js |
| **Desktop** | Tauri 2 (Rust) |
| **Backend** | FastAPI + SQLite |
| **Inference** | MLX + mlx-lm + mlx-vlm |
| **State** | Backend-first (SQLite) |
| **Streaming** | SSE (Server-Sent Events) |

---

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Node.js** 18+ –∏ npm
- **Python** 3.10‚Äì3.12
- **macOS** —Å Apple Silicon (M1/M2/M3) –¥–ª—è MLX

–°–∫—Ä–∏–ø—Ç `npm run backend:setup` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–±–µ—Ä—ë—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–π Python –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Å—Ç `.venv`.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Python –æ–∫—Ä—É–∂–µ–Ω–∏—è
npm run backend:setup

# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run tauri:dev
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—ç–∫–µ–Ω–¥ —Å–ª—É—à–∞–µ—Ç `http://127.0.0.1:5055`.  
–ï—Å–ª–∏ `5055` –∑–∞–Ω—è—Ç, desktop-—Ä–∞–Ω—Ç–∞–π–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π backend –Ω–∞ —Å–≤–æ–±–æ–¥–Ω—ã–π –ø–æ—Ä—Ç –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ `5056-5072`.

---

## üîÄ –†–µ–∂–∏–º—ã –∑–∞–ø—É—Å–∫–∞

–í –ø–µ—Ä–≤–∏—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –¥–æ—Å—Ç—É–ø–Ω—ã 3 —Ä–µ–∂–∏–º–∞:

| –†–µ–∂–∏–º | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| **–õ–æ–∫–∞–ª—å–Ω–æ** (`local`) | –ë–µ–∑ –∞–∫–∫–∞—É–Ω—Ç–æ–≤, –º–æ–¥–µ–ª—å/–ø–ª–∞–≥–∏–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —Ç–µ–∫—É—â–µ–º –∂–µ–ª–µ–∑–µ |
| **–ß–µ—Ä–µ–∑ —É–¥–∞–ª—ë–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä** (`remote_client`) | –ö–ª–∏–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —É–¥–∞–ª—ë–Ω–Ω–æ–º—É backend |
| **–°–∞–º —É–¥–∞–ª—ë–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä** (`remote_server`) | Backend —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Å–µ—Ä–≤–µ—Ä —Å –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏ –∏ —Ä–æ–ª—è–º–∏ |

–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∏—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–Ω—Ç—É—Ä –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
```bash
ANCIA_DEPLOYMENT_MODE=remote_server
```

---

## üìú –°–∫—Ä–∏–ø—Ç—ã

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev                 # frontend (Vite)
npm run tauri:dev           # desktop –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run backend:dev         # backend –≤—Ä—É—á–Ω—É—é (uvicorn)
npm run backend:dev:reload  # backend —Å --reload

# –°–±–æ—Ä–∫–∞
npm run build               # frontend build
npm run tauri:build         # release —Å–±–æ—Ä–∫–∞ Tauri
npm run backend:sidecar     # —Å–±–æ—Ä–∫–∞ backend sidecar (PyInstaller)

# –ü—Ä–æ–≤–µ—Ä–∫–∏
npm run lint                # —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ JS/Python
npm run test:smoke          # backend smoke-—Ç–µ—Å—Ç—ã API/–ø–ª–∞–≥–∏–Ω–æ–≤
npm run check               # lint + smoke + build

# –£—Ç–∏–ª–∏—Ç—ã
npm run backend:setup       # –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ .venv + pip install
```

---

## ü§ñ –ú–æ–¥–µ–ª–∏

–ö–∞—Ç–∞–ª–æ–≥ –º–æ–¥–µ–ª–µ–π –∑–∞–¥–∞–Ω –≤ `backend/model_catalog.py` –∏ `backend/data/model_catalog.json`.

### –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ (compact)
- Qwen2.5 0.5B Instruct (~2GB)
- Qwen2.5 1.5B Instruct (~3.2GB)
- Llama 3 1B Instruct (~0.95GB)
- Ministral 3 3B Instruct (~4.3GB)

### –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ (balanced)
- Qwen2.5 3B Instruct (~5.2GB)
- Qwen3-VL 4B Instruct **vision+** (~6.5GB)
- Llama 3 3B Instruct (~2.25GB)

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–µ (performance)
- Qwen2.5 7B/14B/32B Coder (~9.5-21GB)
- Qwen3 30B/80B/235B/480B Instruct (~20-312GB)
- Llama 3 70B Instruct (~46GB)
- Mistral 24B Instruct (~16GB)

### Vision-–º–æ–¥–µ–ª–∏
- Qwen3-VL 4B/8B/30B Instruct
- Qwen2-VL 2B Instruct

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é, –≤—ã–≥—Ä—É–∑–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫—ç—à–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –¥–æ—Å—Ç—É–ø–Ω–æ–π unified memory
- –ê–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ runtime: `mlx_lm` ‚Üí `mlx_vlm` –¥–ª—è vision
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ

---

## üîå –ü–ª–∞–≥–∏–Ω—ã –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã (5)

| –ü–ª–∞–≥–∏–Ω | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã | –°–µ—Ç—å | –ö–∞—Ç–µ–≥–æ—Ä–∏—è |
|--------|-------------|------|-----------|
| `chat-mood` | `chat.set_mood` | ‚ùå | agent |
| `duckduckgo` | `web.search.duckduckgo` | ‚úÖ | web |
| `python-run` | `python.run` | ‚ùå | system |
| `system-time` | `system.time` | ‚ùå | system |
| `visit-website` | `web.visit.website` | ‚úÖ | web |

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≤ —Ä–µ–µ—Å—Ç—Ä–µ
- `user-memory` ‚Äî 3 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞: `memory.remember`, `memory.recall`, `memory.forget`

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞–º–∏:**
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞: `/plugins/registry`, `/plugins/install`
- –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ä–µ–∂–∏–º –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–µ—Ç–µ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- UI extensions —á–µ—Ä–µ–∑ manifest.json

---

## üåê API Reference

### Health
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `GET` | `/health` | –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞ |
| `OPTIONS` | `/{path}` | CORS preflight (204) |

### Models
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `GET` | `/models` | –°–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π |
| `POST` | `/models/select` | –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ |
| `POST` | `/models/load` | –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ |
| `POST` | `/models/unload` | –í—ã–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ |
| `DELETE` | `/models/{id}/cache` | –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ |
| `PATCH` | `/models/{id}/params` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ |

### Chat
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `POST` | `/chat` | –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è |
| `POST` | `/chat/stream` | SSE —Å—Ç—Ä–∏–º–∏–Ω–≥ |
| `POST` | `/chat/stop` | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ |

### Chats
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `GET` | `/chats` | –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ |
| `POST` | `/chats` | –°–æ–∑–¥–∞–Ω–∏–µ —á–∞—Ç–∞ |
| `PATCH` | `/chats/{id}` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞ |
| `DELETE` | `/chats/{id}` | –£–¥–∞–ª–µ–Ω–∏–µ —á–∞—Ç–∞ |
| `POST` | `/chats/{id}/duplicate` | –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ |
| `GET` | `/chats/{id}/history` | –ò—Å—Ç–æ—Ä–∏—è |
| `DELETE` | `/chats/{id}/messages` | –û—á–∏—Å—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π |
| `PATCH` | `/chats/{id}/messages/{id}` | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |
| `DELETE` | `/chats/{id}/messages/{id}` | –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è |
| `GET` | `/chats/search` | –ü–æ–∏—Å–∫ |
| `GET/POST` | `/chats/export\|import` | –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç |

### Plugins
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `GET` | `/plugins` | –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã |
| `GET` | `/plugins/registry` | –†–µ–µ—Å—Ç—Ä |
| `PATCH` | `/plugins/registry` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–µ—Å—Ç—Ä–∞ |
| `POST` | `/plugins/install` | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ |
| `DELETE` | `/plugins/{id}/uninstall` | –£–¥–∞–ª–µ–Ω–∏–µ |
| `POST` | `/plugins/{id}/enable` | –í–∫–ª—é—á–∏—Ç—å |
| `POST` | `/plugins/{id}/disable` | –í—ã–∫–ª—é—á–∏—Ç—å |
| `POST` | `/plugins/{id}/update` | –û–±–Ω–æ–≤–∏—Ç—å |

### Settings
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `GET` | `/settings` | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ |
| `PATCH` | `/settings` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ |
| `GET` | `/app/state` | –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| `POST` | `/app/reset` | –°–±—Ä–æ—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |

### Auth (remote_server mode)
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `GET/POST` | `/auth/*` | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
| `GET/PATCH` | `/admin/*` | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ |

---

## üíæ –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### SQLite —Å—Ö–µ–º–∞ (–≤–µ—Ä—Å–∏—è 5)

| –¢–∞–±–ª–∏—Ü–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `chats` | –ß–∞—Ç—ã (owner_user_id, id, title, mood, timestamps) |
| `messages` | –°–æ–æ–±—â–µ–Ω–∏—è (owner_user_id, chat_id, role, text, meta_json) |
| `users` | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (remote_server mode) |
| `auth_sessions` | –°–µ—Å—Å–∏–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ |
| `plugin_state` | –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–æ–≤ |
| `settings` | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ |
| `audit_events` | –ê—É–¥–∏—Ç —Å–æ–±—ã—Ç–∏—è |

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
```sql
PRAGMA journal_mode=WAL
PRAGMA foreign_keys=ON
PRAGMA secure_delete=ON
PRAGMA temp_store=MEMORY
```

**–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
- –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–∞–Ω–Ω—ã—Ö: `0700`
- –§–∞–π–ª –ë–î: `0600`

**–ü—É—Ç—å –¥–∞–Ω–Ω—ã—Ö:** `backend/data/` –∏–ª–∏ —á–µ—Ä–µ–∑ `ANCIA_BACKEND_DATA_DIR`

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|--------------|----------|
| `ANCIA_BACKEND_HOST` | `127.0.0.1` | –•–æ—Å—Ç –±—ç–∫–µ–Ω–¥–∞ |
| `ANCIA_BACKEND_PORT` | `5055` | –ü–æ—Ä—Ç –±—ç–∫–µ–Ω–¥–∞ |
| `ANCIA_BACKEND_DATA_DIR` | ‚Äî | –ü—É—Ç—å –∫ –¥–∞–Ω–Ω—ã–º |
| `ANCIA_DEPLOYMENT_MODE` | `local` | –†–µ–∂–∏–º —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è |
| `ANCIA_CORS_PROFILE` | `dev` | CORS –ø—Ä–æ—Ñ–∏–ª—å |
| `ANCIA_CORS_ALLOW_ORIGINS` | `*` (dev) | CORS origins |
| `ANCIA_ENABLE_MODEL_EAGER_LOAD` | `0` | –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ |
| `ANCIA_PLUGIN_REGISTRY_URL` | ‚Äî | URL —Ä–µ–µ—Å—Ç—Ä–∞ –ø–ª–∞–≥–∏–Ω–æ–≤ |

### Remote ACL (remote_server mode)

| –ü—Ä–∞–≤–æ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `models_download` | –°–∫–∞—á–∏–≤–∞–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π |
| `plugins_download` | –£—Å—Ç–∞–Ω–æ–≤–∫–∞/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–æ–≤ |

---

## üñ• Tauri Desktop

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (tauri.conf.json)

```json
{
  "productName": "Ancia",
  "version": "0.1.0",
  "identifier": "com.ancia.localchat",
  "app": {
    "windows": [
      {
        "label": "main",
        "width": 1500,
        "height": 960,
        "minWidth": 860,
        "minHeight": 620
      },
      {
        "label": "splash",
        "width": 360,
        "height": 220,
        "transparent": true,
        "alwaysOnTop": true
      }
    ]
  }
}
```

### Sidecar —Å–±–æ—Ä–∫–∞

```bash
npm run backend:sidecar
```

**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:**
- `src-tauri/bin/ancia-backend` (macOS/Linux)
- `src-tauri/bin/ancia-backend.exe` (Windows)

---

## üîÑ CI/CD

### GitHub Actions (`.github/workflows/ci.yml`)

```yaml
on:
  pull_request:
  push:
    branches: [main, master]

jobs:
  checks:
    runs-on: ubuntu-latest
    steps:
      - Checkout
      - Setup Node 20
      - Setup Python 3.11
      - Install dependencies
      - Lint (JS + Python)
      - Backend smoke tests
      - Build
```

---

## ‚ö†Ô∏è Troubleshooting

### `405 Method Not Allowed` –Ω–∞ `OPTIONS ...`
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∑–∞–ø—É—â–µ–Ω –∞–∫—Ç—É–∞–ª—å–Ω—ã–π backend —Å `OPTIONS /{full_path:path}` (–¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å `204`).

### `503 –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Python (`3.10‚Äì3.12`) –∏ `npm run backend:setup`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—É—é unified memory –∏ –≤—ã–±—Ä–∞–Ω–Ω—É—é –º–æ–¥–µ–ª—å

### Tauri –ø–∏—à–µ—Ç `backend already running on 127.0.0.1:5055`
- –û–±—ã—á–Ω–æ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ: –Ω–∞–π–¥–µ–Ω –∂–∏–≤–æ–π backend-–ø—Ä–æ—Ü–µ—Å—Å
- –ï—Å–ª–∏ `5055` –∑–∞–Ω—è—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º —Å–µ—Ä–≤–∏—Å–æ–º, Ancia –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–±–µ—Ä—ë—Ç —Å–ª–µ–¥—É—é—â–∏–π —Å–≤–æ–±–æ–¥–Ω—ã–π –ø–æ—Ä—Ç (`5056-5072`)

### –û—à–∏–±–∫–∏ –ø–∞–º—è—Ç–∏
- –î–ª—è –º–æ–¥–µ–ª–µ–π >30B —Ç—Ä–µ–±—É–µ—Ç—Å—è 20GB+ unified memory
- –í–∫–ª—é—á–∏—Ç–µ `ANCIA_STRICT_AVAILABLE_MEMORY_CHECK=0` –¥–ª—è –º—è–≥–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∫–æ–¥–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–∞–π–ª–æ–≤ | –°—Ç—Ä–æ–∫ |
|-----------|--------|-------|
| Frontend JS | 50+ | 15,000+ |
| Backend Python | 30+ | 12,000+ |
| Tauri Rust | 1 | 928 |
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ | 10+ | 500+ |
| **–í—Å–µ–≥–æ** | **~60** | **~28,000+** |

---

## üîÆ –í –ø–ª–∞–Ω–∞—Ö

- [ ] –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–º –æ–∫–Ω–æ–º
- [ ] –î–æ–ª–≥–∞—è —Ä–∞–±–æ—Ç–∞ –¥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (–º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∞ –º–æ–¥–µ–ª–µ–π
- [ ] –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

Copyright ¬© 2026 Andrey. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π **PolyForm Noncommercial License 1.0.0**.

### –ß—Ç–æ –º–æ–∂–Ω–æ:
- ‚úÖ –ò–∑—É—á–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
- ‚úÖ –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –ª–∏—á–Ω—ã—Ö —Ü–µ–ª–µ–π
- ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–æ—Ä–∫–∏ –¥–ª—è –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –í–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ Pull Request

### –ß—Ç–æ –Ω–µ–ª—å–∑—è:
- ‚ùå –ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑ –ø–∏—Å—å–º–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- ‚ùå –ü—Ä–æ–¥–∞–∂–∞, –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø–ª–∞—Ç–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö/–ø—Ä–æ–¥—É–∫—Ç–∞—Ö

–¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ –∏–º–µ–µ—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∞–≤–æ –Ω–∞ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—é.

–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –ª–∏—Ü–µ–Ω–∑–∏–∏: [LICENSE](LICENSE)  
–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: <https://polyformproject.org/licenses/noncommercial/1.0.0/>

---

**Ancia** ¬© 2026
