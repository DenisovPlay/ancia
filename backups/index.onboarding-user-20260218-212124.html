<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ancia Local</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&amp;family=JetBrains+Mono:wght@400;500&amp;display=swap"
      rel="stylesheet"
    />
    <style>
      html,
      body {
        margin: 0;
        width: 100%;
        height: 100%;
        background: #0f0a1c;
        color-scheme: dark;
      }

      body {
        overflow: hidden;
        color: #f4f4f5;
      }

      #app-preloader {
        position: fixed;
        inset: 0;
        z-index: 9999;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 10px;
        background: radial-gradient(circle at 50% 36%, rgb(91 33 182 / 0.24) 0%, transparent 42%), #090512;
        opacity: 1;
        visibility: visible;
        transition: opacity 220ms ease, visibility 220ms ease;
      }

      body.app-ready #app-preloader {
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
      }

      #app-preloader .app-preloader__orb {
        width: 34px;
        height: 34px;
        border-radius: 999px;
        border: 2px solid rgb(212 212 216 / 0.14);
        border-top-color: rgb(244 244 245 / 0.9);
        border-right-color: rgb(168 85 247 / 0.7);
        animation: critical-loader-spin 760ms linear infinite;
      }

      #app-preloader .app-preloader__label {
        margin: 0;
        font-size: 11px;
        letter-spacing: 0.09em;
        color: rgb(212 212 216 / 0.82);
      }

      @keyframes critical-loader-spin {
        to {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body class="min-h-screen bg-violet-950 text-zinc-100 antialiased">
    <canvas id="liquid-canvas" aria-hidden="true"></canvas>
    <div class="noise-layer" aria-hidden="true"></div>
    <div id="app-preloader" class="app-preloader" aria-live="polite">
      <div class="app-preloader__orb" aria-hidden="true"></div>
      <p class="app-preloader__label">Загрузка...</p>
    </div>

    <div class="relative h-screen overflow-hidden">
      <header
        id="titlebar"
        data-tauri-drag-region
        class="glass-panel border-b border-zinc-600/30 drag-region mx-auto flex h-10 w-full max-w-[1780px] items-center px-3"
      >
        <div class="titlebar-left flex min-w-0 items-center">
          <div class="min-w-0">
            <p class="truncate text-[11px] uppercase tracking-[0.16em] text-zinc-400">Ancia Local</p>
          </div>
        </div>
      </header>

      <div
        class="mx-auto grid h-[calc(100vh-2.5rem)] w-full max-w-[1780px] grid-cols-[78px_minmax(0,1fr)] divide-x divide-zinc-600/30"
      >
        <nav class="glass-panel !border-l-0 !border-b-0 flex flex-col items-center gap-3 p-2" aria-label="Основная навигация">
          <!--Чаты-->
          <button
            id="nav-go-chat"
            type="button"
            data-route-target="chat"
            data-active="true"
            aria-label="Чаты"
            title="Чаты"
            class="route-icon no-drag active:scale-95 duration-300 h-14 w-14 rounded-full border"
          >
            <span class="sr-only">Чаты</span>
          </button>
          <!--Плагины-->
          <button
            id="nav-go-plugins"
            type="button"
            data-route-target="plugins"
            data-active="false"
            aria-label="Плагины"
            title="Плагины"
            class="route-icon no-drag active:scale-95 duration-300 h-14 w-14 rounded-full border"
          >
            <span class="sr-only">Плагины</span>
          </button>
          <!--Настройки-->
          <button
            id="nav-go-settings"
            type="button"
            data-route-target="settings"
            data-active="false"
            aria-label="Настройки"
            title="Настройки"
            class="route-icon no-drag active:scale-95 duration-300 h-14 w-14 rounded-full border
          >
            <span class="sr-only">Настройки</span>
          </button>
        </nav>

        <div class="relative min-w-0 h-full min-h-0 overflow-hidden">
          <div
            id="page-chat"
            data-route-page="chat"
            class="route-page grid h-full min-h-0 grid-cols-1 overflow-hidden xl:grid-cols-[320px_minmax(0,1fr)] 2xl:grid-cols-[320px_minmax(0,1fr)_360px] xl:divide-x xl:divide-zinc-600/30"
          ></div>

          <div
            id="page-plugins"
            data-route-page="plugins"
            class="route-page hidden h-full min-h-0 grid grid-cols-1 overflow-hidden xl:grid-cols-[290px_minmax(0,1fr)] xl:divide-x xl:divide-zinc-600/30"
          ></div>

          <div
            id="page-settings"
            data-route-page="settings"
            class="route-page hidden h-full min-h-0 grid grid-cols-1 overflow-hidden xl:grid-cols-[290px_minmax(0,1fr)] xl:divide-x xl:divide-zinc-600/30"
          ></div>
        </div>
      </div>
    </div>

    <div
      id="panel-backdrop"
      aria-hidden="true"
      class="fixed inset-0 z-30 bg-zinc-950/60 opacity-0 pointer-events-none backdrop-blur-md transition-opacity duration-200 2xl:hidden"
    ></div>
    <div id="context-menu" class="context-menu hidden" role="menu" aria-hidden="true"></div>
    <div id="action-dialog-overlay" class="action-dialog-overlay hidden" aria-hidden="true">
      <section
        id="action-dialog"
        class="action-dialog"
        role="dialog"
        aria-modal="true"
        aria-labelledby="action-dialog-title"
        aria-describedby="action-dialog-message"
      >
        <h2 id="action-dialog-title" class="action-dialog__title">Подтверждение</h2>
        <p id="action-dialog-message" class="action-dialog__message">Подтвердите действие.</p>
        <label id="action-dialog-input-wrap" class="action-dialog__input-wrap hidden">
          <span class="sr-only">Поле ввода</span>
          <input
            id="action-dialog-input"
            type="text"
            class="action-dialog__input"
            autocomplete="off"
          />
        </label>
        <div class="action-dialog__actions">
          <button
            id="action-dialog-cancel"
            type="button"
            class="icon-button active:scale-95 duration-300 rounded-full border border-zinc-600/30 bg-zinc-900/70 px-4 py-2 text-xs text-zinc-200 transition hover:bg-zinc-700/80"
          >
            Отмена
          </button>
          <button
            id="action-dialog-confirm"
            type="button"
            class="icon-button active:scale-95 duration-300 rounded-full border border-zinc-500/30 bg-zinc-100 px-4 py-2 text-xs font-semibold text-zinc-950 transition hover:bg-zinc-200"
          >
            Подтвердить
          </button>
        </div>
      </section>
    </div>
    <div id="onboarding-overlay" class="onboarding-overlay" aria-hidden="true">
      <div class="onboarding-aura onboarding-aura--one" aria-hidden="true"></div>
      <div class="onboarding-aura onboarding-aura--two" aria-hidden="true"></div>
      <div class="onboarding-aura onboarding-aura--three" aria-hidden="true"></div>

      <section
        class="onboarding-shell"
        role="dialog"
        aria-modal="true"
        aria-labelledby="onboarding-title"
        aria-describedby="onboarding-subtitle"
      >
        <form id="onboarding-form" class="onboarding-form">
          <section data-onboarding-step="0" class="onboarding-step">
            <article class="rounded-3xl pb-4">
              <div class="flex flex-col items-center justify-center gap-4 text-center">
                <img
                  src="/ancia.png"
                  alt="Логотип Ancia"
                  class="h-24 w-24 rounded-[24px] border border-zinc-500/40 object-cover shadow-[0_12px_36px_rgb(2_6_23/0.35)]"
                />
                <h2 id="onboarding-title" class="text-xl font-semibold text-zinc-100 sm:text-2xl">Добро пожаловать</h2>
                <p id="onboarding-subtitle" class="text-sm text-zinc-300">Ancia Local - ваши максимальные возможности</p>
              </div>
            </article>
          </section>

          <footer class="onboarding-footer">
            <button
              id="onboarding-finish"
              type="submit"
              class="icon-button active:scale-95 duration-300 rounded-full border border-zinc-500/30 bg-zinc-100 px-5 py-2 text-sm font-semibold text-zinc-950 transition hover:bg-zinc-200"
            >
              Продолжить
            </button>
          </footer>
        </form>
      </section>
    </div>
    <div id="ui-toast-region" class="toast-region" aria-live="polite" aria-relevant="additions text"></div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
